# ReCite AI - 新手完整开发指南

> 本指南专为没有编程基础的同学设计，手把手教你完成项目开发到上线全过程。

---

## 📖 目录

1. [项目基础认知](#1-项目基础认知)
2. [开发工具安装](#2-开发工具安装)
3. [准备工作](#3-准备工作)
4. [本地测试](#4-本地测试)
5. [部署上线](#5-部署上线)
6. [常见问题解决](#6-常见问题解决)

---

## 1. 项目基础认知

### 1.1 这个项目是做什么的？

**ReCite AI** 是一个智能英语学习应用，核心功能：
- 📝 **文本输入**：粘贴英文或拍照识别
- 🤖 **AI分析**：智能拆解长难句，标注语法成分
- 🎴 **记忆卡片**：用颜色卡片展示，便于记忆
- 🎯 **背诵评估**：AI评估你的背诵效果

### 1.2 技术架构（通俗版）

```
┌─────────────────────────────────────────────────────┐
│                                                   │
│  前端 = 你看到的界面（网页）                         │
│  技术栈：React + TypeScript                        │
│  部署平台：Vercel                                  │
│                                                   │
└─────────────────┬───────────────────────────────┘
                  │
                  │ 交换数据（HTTP请求）
                  │
┌─────────────────▼───────────────────────────────┐
│                                                   │
│  后端 = 业务逻辑（处理用户请求、调用AI）            │
│  技术栈：Node.js + Express                       │
│  部署平台：Render                                 │
│                                                   │
└─────────────────┬───────────────────────────────┘
                  │
                  │ 保存/读取数据
                  │
┌─────────────────▼───────────────────────────────┐
│                                                   │
│  数据库 = 存储用户信息、文章、学习记录              │
│  技术：MongoDB Atlas                             │
│                                                   │
└───────────────────────────────────────────────────┘
```

### 1.3 核心概念解释

| 概念 | 通俗解释 | 例子 |
|------|----------|------|
| 前端 | 用户看到的界面 | 你现在看到的网页 |
| 后端 | 处理业务逻辑的服务器 | 处理注册、登录、AI分析等 |
| 数据库 | 存数据的地方 | 像Excel表格一样存储信息 |
| API | 前后端沟通的桥梁 | 像"服务员"传递订单 |
| 环境 | 配置信息（密钥、地址等） | 像应用设置里的账号密码 |

---

## 2. 开发工具安装

### 2.1 Node.js（必须安装）

**什么是Node.js？**
- JavaScript的运行环境
- 后端代码需要用它来运行

**安装步骤：**
1. 访问：https://nodejs.org
2. 下载LTS版本（长期支持版）
3. 双击安装包，一路点击"下一步"完成安装
4. 验证安装：
   - 打开"命令提示符"（Win + R，输入cmd，回车）
   - 输入：`node -v`
   - 如果显示版本号（如v20.x.x），说明安装成功

### 2.2 VS Code（推荐）

**什么是VS Code？**
- 微软出品的代码编辑器
- 编写和修改代码的工具

**安装步骤：**
1. 访问：https://code.visualstudio.com/
2. 下载Windows版本
3. 双击安装，一路"下一步"

### 2.3 Git（推荐）

**什么是Git？**
- 代码版本管理工具
- 用于上传代码到GitHub

**安装步骤：**
1. 访问：https://git-scm.com/downloads
2. 下载Windows版本
3. 安装时保持默认选项

---

## 3. 准备工作

### 3.1 必需的账号和密钥

**你需要注册这些服务（免费）：**

#### ✅ 已完成的准备
- [x] GitHub账号（代码托管）
- [x] MongoDB Atlas账号（数据库）
- [x] Vercel账号（前端部署）
- [x] Render账号（后端部署）
- [x] 智谱AI API Key（AI功能）

**如何获取智谱AI API Key：**
1. 访问：https://open.bigmodel.cn/
2. 注册/登录账号
3. 进入"API Keys"页面
4. 点击"创建API Key"
5. 复制并保存这个Key（格式类似：`xxxxxxxx.xxxxxxxx`）

**⚠️ 重要提醒：**
- 所有密钥要保密，不要公开发布
- 建议用记事本保存所有密钥，方便后续使用

---

## 4. 本地测试

### 4.1 理解本地测试

**为什么要先本地测试？**
- 确保代码在发布前是正常工作的
- 发现问题可以立即修改
- 避免部署后才发现错误

**本地测试架构：**
```
你的电脑上会同时运行两个程序：
- 前端（http://localhost:5173）
- 后端（http://localhost:3001）
```

### 4.2 配置后端

#### 步骤1：进入后端文件夹
```bash
# 打开命令提示符（cmd）
# 输入以下命令：
cd /d "D:\English\ReCite Ai\backend"
```

#### 步骤2：安装依赖
```bash
npm install
```
**说明：** 这个命令会自动下载后端需要的所有工具包，可能需要2-5分钟。

#### 步骤3：配置环境变量

在`backend`文件夹中创建`.env`文件：

1. 在VS Code中打开项目
2. 找到`backend`文件夹
3. 新建文件，命名为`.env`（注意前面有个点）
4. 复制以下内容：

```env
# 服务器配置
PORT=3001
NODE_ENV=development

# MongoDB 连接（先使用本地数据库，稍后改为云端）
MONGODB_URI=mongodb://localhost:27017/reciteai

# JWT 密钥（用于登录验证）
JWT_SECRET=my-super-secret-jwt-key-2024-reciteai
JWT_EXPIRES_IN=7d

# 智谱 AI 配置
ZHIPU_API_KEY=你的智谱API密钥
ZHIPU_API_URL=https://open.bigmodel.cn/api/paas/v4/chat/completions

# CORS 配置（允许前端访问）
FRONTEND_URL=http://localhost:5173
```

**重要：** 将`你的智谱API密钥`替换为真实的API Key。

#### 步骤4：启动后端服务

**方案A：使用本地MongoDB（需要先安装MongoDB）**

```bash
# 先启动MongoDB（如果已安装）
# 然后启动后端：
npm run dev
```

**方案B：直接使用MongoDB Atlas云数据库（推荐）**

修改`.env`文件：
```env
# 替换这一行：
MONGODB_URI=mongodb+srv://你的用户名:你的密码@你的集群地址/reciteai
```

然后启动：
```bash
npm run dev
```

#### 步骤5：验证后端启动成功

看到以下信息说明成功：
```
MongoDB 连接成功
Server running on http://localhost:3001
```

**测试后端健康检查：**
- 在浏览器访问：http://localhost:3001/health
- 应该看到：`{"status":"ok","message":"ReCite AI Backend is running"}`

### 4.3 配置前端

#### 步骤1：打开新的命令提示符窗口

**注意：** 保持后端窗口运行，不要关闭！

#### 步骤2：进入前端项目目录
```bash
cd /d "D:\English\ReCite Ai"
```

#### 步骤3：安装依赖
```bash
npm install
```

#### 步骤4：检查前端配置

打开`.env.local`文件，确认内容为：
```env
# 后端 API 地址
VITE_API_URL=http://localhost:3001

# 智谱 API Key（现在由后端使用）
ZHIPU_API_KEY=your-zhipu-api-key
```

#### 步骤5：启动前端
```bash
npm run dev
```

#### 步骤6：验证前端启动成功

看到以下信息说明成功：
```
VITE v6.x.x  ready in xxx ms

➜  Local:   http://localhost:5173/
➜  Network: use --host to expose
```

自动打开浏览器访问 http://localhost:5173

### 4.4 完整功能测试

#### 测试清单

**1. 用户注册/登录**
- [ ] 打开网站
- [ ] 点击右上角"登录"按钮
- [ ] 点击"还没有账号？立即注册"
- [ ] 填写用户名、邮箱、密码
- [ ] 点击"注册"
- [ ] 验证是否自动登录并跳转到首页

**2. 创建文章（文本输入）**
- [ ] 点击"试一试例句"
- [ ] 点击"生成记忆卡片"
- [ ] 等待AI分析完成
- [ ] 查看学习页面，卡片是否正常显示

**3. 学习和背诵**
- [ ] 点击卡片查看中文翻译
- [ ] 完成学习后进入背诵模式
- [ ] 尝试背诵并查看评分

**4. OCR拍照识别**
- [ ] 回到首页
- [ ] 准备一张包含英文的图片
- [ ] 点击"拍照识别"按钮
- [ ] 上传图片
- [ ] 验证文字识别是否正确

**5. 文章库管理**
- [ ] 点击顶部"文章库"按钮
- [ ] 查看已创建的文章
- [ ] 点击文章继续学习
- [ ] 测试删除功能

**6. 用户中心**
- [ ] 点击用户头像
- [ ] 查看个人信息
- [ ] 测试修改昵称
- [ ] 测试退出登录

---

## 5. 部署上线

### 5.1 理解部署

**什么是部署？**
- 把你的代码放到云服务器上
- 让所有人都能通过互联网访问

**部署架构：**
```
┌──────────────┐     ┌──────────────┐     ┌──────────────┐
│              │     │              │     │              │
│  Vercel      │ ←→  │  Render      │ ←→  │  MongoDB     │
│  (前端)      │     │  (后端)      │     │  Atlas       │
│              │     │              │     │              │
└──────────────┘     └──────────────┘     └──────────────┘
     ↓                      ↓
  你的网站              处理业务            存储数据
```

### 5.2 配置MongoDB Atlas云数据库

#### 步骤1：创建数据库集群
1. 登录 https://www.mongodb.com/cloud/atlas
2. 点击"Build a Database"
3. 选择"FREE"方案（免费）
4. 创建集群（选择离你最近的区域）
5. 等待2-3分钟创建完成

#### 步骤2：创建数据库用户
1. 在左侧菜单点击"Database Access"
2. 点击"Add New Database User"
3. 填写信息：
   - **Username**：`reciteai`
   - **Password**：自己设置一个强密码（记住它！）
   - **权限**：Read and write to any database
4. 点击"Create"

#### 步骤3：配置IP白名单
1. 在左侧菜单点击"Network Access"
2. 点击"Add IP Address"
3. 点击"ALLOW ACCESS FROM ANYWHERE"（允许所有IP访问）
4. 点击"Confirm"

#### 步骤4：获取连接字符串
1. 在左侧菜单点击"Database"
2. 点击"Connect"按钮
3. 选择"Connect your application"
4. 复制连接字符串，格式类似：
   ```
   mongodb+srv://reciteai:<password>@cluster0.xxxxx.mongodb.net/?retryWrites=true&w=majority
   ```
5. 将`<password>`替换为你的真实密码
6. 保存这个连接字符串！

### 5.3 创建GitHub仓库

#### 步骤1：创建仓库
1. 登录 https://github.com
2. 点击右上角"+"，选择"New repository"
3. 填写仓库信息：
   - **Repository name**：`reciteai`
   - **Description**：`智能英语背诵助手`
   - **Public/Private**：选择Public（公开）
4. 点击"Create repository"

#### 步骤2：上传代码

**方法A：网页上传（简单）**
1. 在新创建的仓库页面，点击"uploading an existing file"
2. 拖拽整个项目文件夹（除了`.env`和`node_modules`）
3. 填写提交信息：
   - Title：`Initial commit`
4. 点击"Commit changes"

**方法B：命令行上传（推荐）**
1. 打开命令提示符，进入项目目录：
```bash
cd /d "D:\English\ReCite Ai"
```

2. 初始化Git仓库：
```bash
git init
git add .
git commit -m "Initial commit"
```

3. 推送到GitHub：
```bash
git remote add origin https://github.com/你的用户名/reciteai.git
git branch -M main
git push -u origin main
```

**⚠️ 重要：不要上传敏感文件！**

确保`.gitignore`文件包含：
```
.env
.env.local
node_modules
.DS_Store
```

### 5.4 部署后端到Render

#### 步骤1：创建Web服务
1. 登录 https://dashboard.render.com
2. 点击"New +" → "Web Service"
3. 点击"Connect GitHub"
4. 授权Render访问你的GitHub
5. 找到`reciteai`仓库，点击"Connect"

#### 步骤2：配置服务
填写以下信息：
- **Name**：`reciteai-backend`
- **Environment**：`Node`
- **Region**：选择Singapore（离中国近）
- **Branch**：`main`
- **Root Directory**：`backend`
- **Build Command**：`npm install`
- **Start Command**：`npm start`

#### 步骤3：配置环境变量（重要！）

点击"Advanced" → "Add Environment Variable"，依次添加：

| Key | Value |
|-----|-------|
| `PORT` | `3001` |
| `NODE_ENV` | `production` |
| `MONGODB_URI` | 你的MongoDB连接字符串 |
| `JWT_SECRET` | `my-super-secret-jwt-key-2024-reciteai` |
| `JWT_EXPIRES_IN` | `7d` |
| `ZHIPU_API_KEY` | 你的智谱API密钥 |
| `ZHIPU_API_URL` | `https://open.bigmodel.cn/api/paas/v4/chat/completions` |
| `FRONTEND_URL` | `https://reciteai.vercel.app`（先用这个，稍后更新） |

#### 步骤4：部署
1. 点击"Create Web Service"
2. 等待3-5分钟部署
3. 看到状态变为"Live"说明部署成功

#### 步骤5：获取后端地址
1. 在Render服务页面顶部找到URL
2. 格式类似：`https://reciteai-backend.onrender.com`
3. 复制并保存这个地址

#### 步骤6：测试后端
访问：`https://reciteai-backend.onrender.com/health`
应该看到：`{"status":"ok","message":"ReCite AI Backend is running"}`

### 5.5 部署前端到Vercel

#### 步骤1：创建项目
1. 登录 https://vercel.com/dashboard
2. 点击"Add New" → "Project"
3. 点击"Import Git Repository"
4. 找到`reciteai`仓库，点击"Import"

#### 步骤2：配置项目
填写以下信息：
- **Project Name**：`reciteai`
- **Framework Preset**：`Vite`
- **Root Directory**：`./`（根目录）
- **Build Command**：`npm run build`
- **Output Directory**：`dist`

#### 步骤3：配置环境变量
1. 找到"Environment Variables"部分
2. 点击"Add New"
3. 填写：
   - **Key**：`VITE_API_URL`
   - **Value**：你的Render后端地址（如：`https://reciteai-backend.onrender.com`）
4. 点击"Add"

#### 步骤4：部署
1. 点击"Deploy"
2. 等待1-2分钟
3. 看到"Congratulations!"说明部署成功

#### 步骤5：获取前端地址
1. Vercel会自动分配一个域名
2. 格式类似：`https://reciteai.vercel.app`
3. 复制这个地址

### 5.6 更新CORS配置

#### 步骤1：回到Render
1. 打开你的Render服务页面
2. 点击"Environment"标签
3. 找到`FRONTEND_URL`变量
4. 点击编辑
5. 改为你的Vercel地址（如：`https://reciteai.vercel.app`）
6. 点击"Save"
7. 等待自动重新部署（约1-2分钟）

---

## 6. 常见问题解决

### 6.1 后端问题

**问题：MongoDB连接失败**
- 检查连接字符串是否正确
- 确认IP白名单已配置
- 验证用户名和密码

**问题：Render部署失败**
- 查看部署日志（Logs标签）
- 检查环境变量是否正确
- 确认GitHub仓库有`backend/package.json`

**问题：API调用失败**
- 检查智谱API Key是否有效
- 确认账户有足够额度
- 查看后端日志获取详细错误

### 6.2 前端问题

**问题：页面空白**
- 打开浏览器开发者工具（F12）
- 查看Console标签的错误信息
- 检查`VITE_API_URL`是否正确

**问题：无法登录**
- 检查后端是否正常运行
- 验证CORS配置
- 查看Network标签的请求响应

**问题：部署失败**
- 检查`package.json`的build命令
- 确认所有依赖都正确安装
- 查看Vercel部署日志

### 6.3 数据库问题

**问题：数据保存失败**
- 检查MongoDB连接状态
- 验证数据库用户权限
- 查看后端日志的错误信息

---

## 7. 测试验证

### 7.1 线上功能测试清单

部署完成后，访问你的Vercel地址，进行完整测试：

**基础功能：**
- [ ] 网站能正常打开
- [ ] 可以注册新账号
- [ ] 注册后能自动登录
- [ ] 用户信息显示正确

**核心功能：**
- [ ] 输入英文文本能生成卡片
- [ ] AI拆分结果正确
- [ ] 学习页面卡片显示正常
- [ ] 背诵模式评分正常

**文章管理：**
- [ ] 点击"文章库"能看到文章列表
- [ ] 能选择历史文章继续学习
- [ ] 能删除文章

**OCR功能：**
- [ ] 拍照识别功能正常
- [ ] 识别结果准确

**用户中心：**
- [ ] 能修改个人信息
- [ ] 退出登录功能正常

### 7.2 性能测试

- [ ] 首页加载速度 < 3秒
- [ ] AI分析响应速度合理
- [ ] 移动端显示正常

---

## 8. 上线完成

### 8.1 恭喜！🎉

你的应用已经成功上线！现在可以：

1. **分享链接**
   - 把Vercel地址分享给朋友
   - 发到朋友圈或社交媒体

2. **添加到手机主屏幕**
   - iPhone：Safari → 分享 → 添加到主屏幕
   - Android：Chrome → 菜单 → 添加到主屏幕

3. **持续优化**
   - 收集用户反馈
   - 修复发现的bug
   - 添加新功能

### 8.2 重要信息保存

**你的应用信息（请保存）：**

```
前端地址：https://reciteai.vercel.app
后端地址：https://reciteai-backend.onrender.com
数据库：MongoDB Atlas
智谱AI：https://open.bigmodel.cn/
```

**密钥信息（妥善保管）：**

```
MongoDB连接字符串：
（粘贴到这里）

MongoDB密码：
（粘贴到这里）

智谱API Key：
（粘贴到这里）

JWT密钥：my-super-secret-jwt-key-2024-reciteai
```

---

## 9. 下一步学习建议

### 9.1 技术提升
- 学习React基础：https://react.dev/learn
- 学习Node.js：https://nodejs.org/learn
- 学习MongoDB：https://www.mongodb.com/docs/manual/

### 9.2 功能扩展
- 添加复习提醒功能
- 实现学习数据统计
- 添加社交分享功能
- 支持多语言（日语、法语等）

### 9.3 运营优化
- 收集用户反馈
- 分析使用数据
- 优化用户体验
- 推广获客

---

## 10. 联系支持

如果在开发过程中遇到问题：

1. **查看日志**
   - 后端日志：Render Dashboard → Logs
   - 前端日志：浏览器F12 → Console

2. **检查配置**
   - 环境变量是否正确
   - API密钥是否有效
   - 连接地址是否正确

3. **参考文档**
   - MongoDB文档：https://docs.mongodb.com/
   - Vercel文档：https://vercel.com/docs
   - Render文档：https://render.com/docs

---

**祝你成功！💪**
